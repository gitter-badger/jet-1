# at some point checkc should output to a file not stdout
DIAG=

%.bin: %.ch
	./comp $< $(DIAG) > $@.c && cc -O0 $@.c -o $@; rm $@.c
	
%-d.bin: %.ch
	./comp $< $(DIAG) > $@.c && cc -O0 -g -DDEBUG $@.c -o $@; rm $@.c
	
%-f.bin: %.ch
	./comp $< $(DIAG) > $@.c &&cc -O3 -DNOSTACKCHECK -DNONULLCHECK -DNOBOUNDSCHECK $@.c -o $@; rm $@.c
	