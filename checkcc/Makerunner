# at some point checkc should output to a file not stdout
DIAG=

%.bin: %.ch chstd.hpp checkstd.hpp
	./comp $< $(DIAG) > $@.cc && c++ -O0 $@.cc -o $@; rm $@.cc
	
%-d.bin: %.ch chstd.hpp checkstd.hpp
	./comp $< $(DIAG) > $@.cc && c++ -O0 -g -DDEBUG $@.cc -o $@; rm $@.cc
	
%-f.bin: %.ch chstd.hpp checkstd.hpp
	./comp $< $(DIAG) > $@.cc &&cc -O3 -DNOSTACKCHECK -DNONULLCHECK -DNOBOUNDSCHECK $@.cc -o $@; rm $@.cc
	